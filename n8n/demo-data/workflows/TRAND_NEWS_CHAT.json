{
  "name": "TRAND_NEWS_CHAT",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.chatInput }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are a friendly and informative news bot with access to fresh data through a vector store.\n\nROLE:\n- You are an expert at finding current information and news\n- You help users quickly get the information they need\n\nFUNCTIONALITY:\n- Always use the vector store to answer user queries\n- Skillfully transform user requests into effective search queries\n- Identify the main topic of the request and search for relevant information\n- Ask for clarification when the request is unclear\n\nSTYLE AND TONE:\n- Energetic, positive, and accessible\n- Use conversational language at an 8th-grade reading level\n- Be concise - sentences up to 15 words\n- Add an element of surprise or humor where appropriate\n- Use emojis to convey mood (1-2 per response)\n- Reply ONLY in Russian language, regardless of the language used in queries\n\nRESPONSE STRUCTURE:\n- Start with a direct answer to the question\n- Highlight key thoughts in **bold**\n- Add 1-2 interesting facts from the information found\n- Mention multiple perspectives when available\n- End with a logical transition to continue the conversation\n\nFORMAT:\n- Markdown with reasonable use of formatting\n- Structure information for easy reading\n- Avoid paragraphs longer than 3-4 lines\n\nCONSTRAINTS:\n- Never provide answers without consulting the vector store\n- If no answer is found, suggest: \"Я не нашел информации по этому вопросу.\"\n- Don't make up information\n- Strive for objectivity, don't exp"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        660,
        280
      ],
      "id": "bc779761-bcf8-40bf-807a-4c3480edbf6d",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolName": "ai_news",
        "toolDescription": "Summarized news articles and YouTube transcripts related to AI",
        "pineconeIndex": {
          "__rl": true,
          "value": "ainewstest",
          "mode": "list",
          "cachedResultName": "ainewstest"
        },
        "includeDocumentMetadata": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1,
      "position": [
        820,
        540
      ],
      "id": "3d307228-bda2-421a-8178-7c66da2c450b",
      "name": "Pinecone Vector Store"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        840,
        700
      ],
      "id": "ee56d75f-2d55-49cf-8c63-8b8e706ba97c",
      "name": "Embeddings OpenAI"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.tavily.com/search",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "VASH_API"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"query\": \"{{ $json.queries }}\",\n  \"topic\": \"general\",\n  \"search_depth\": \"basic\",\n  \"chunks_per_source\": 3,\n  \"max_results\": 2,\n  \"time_range\": \"day\",\n  \"days\": 1,\n  \"include_answer\": \"advanced\",\n  \"include_raw_content\": false,\n  \"include_images\": false,\n  \"include_image_descriptions\": false,\n  \"include_domains\": [],\n  \"exclude_domains\": []\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        200,
        1660
      ],
      "id": "40faa045-06d8-4ca7-b08b-488d8b2fc73b",
      "name": "Tavily"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1720,
        2620
      ],
      "id": "56aa5955-7ea7-4f1c-b409-2b4e8a3eb1f1",
      "name": "When clicking ‘Test workflow’"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1920,
        3040
      ],
      "id": "4006cca0-8ae7-43be-95bb-7d3557bfeadd",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "url": "https://www.googleapis.com/youtube/v3/channels",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "youTubeOAuth2Api",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "part",
              "value": "id, snippet"
            },
            {
              "name": "forHandle",
              "value": "={{ $json.usernames }}"
            },
            {
              "name": "regionCode",
              "value": "US"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        400,
        2960
      ],
      "id": "fbe0997c-9b71-4c65-919b-d002ded0616a",
      "name": "Get Channel ID"
    },
    {
      "parameters": {
        "chunkSize": 3000,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainSummarization",
      "typeVersion": 2,
      "position": [
        2360,
        2620
      ],
      "id": "9868a206-ba53-4809-b757-2b19a351d971",
      "name": "Summarization Chain"
    },
    {
      "parameters": {
        "tableId": "news",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "title",
              "fieldValue": "={{ $json.output.title }}"
            },
            {
              "fieldId": "content",
              "fieldValue": "={{ $json.output.content }}"
            },
            {
              "fieldId": "type",
              "fieldValue": "News"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        980,
        1440
      ],
      "id": "9866751f-397e-4e39-bd22-6f296292aa11",
      "name": "Supabase"
    },
    {
      "parameters": {
        "tableId": "news",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "title",
              "fieldValue": "={{ $json.output.title }}"
            },
            {
              "fieldId": "content",
              "fieldValue": "={{ $json.output.content }}"
            },
            {
              "fieldId": "type",
              "fieldValue": "YouTube"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        3080,
        2620
      ],
      "id": "3301425c-abe0-4515-a726-7885b80c421a",
      "name": "Supabase1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Repurpose this summarized article: {{ $json.answer }}",
        "hasOutputParser": true,
        "messages": {
          "messageValues": [
            {
              "message": "=You are a professional editor and copywriter specializing in transforming technical and dry content into viral material that readers instantly remember.\n\nInstructions:\n1. Create a captivating, positive title with EXACTLY 5 words for the summary (place in <title>). The title should evoke curiosity without being clickbait.\n2. Rewrite the summary (place in <content>), using:\n   • Vivid, specific nouns instead of general ones\n   • Active verbs instead of passive ones\n   • Analogies and metaphors to simplify complex ideas\n   • Conversational, friendly tone as if explaining to a friend\n   • Short sentences and paragraphs for readability\n   • 1-2 questions to engage the reader\n   • Always end with a key takeaway\n\nOutput format:\n{\n\"title\": \"<title>\",\n\"content\": \"<content>\"\n}\n\nOutput:\n- Markdown formatting\n- Use **bold text** for 3-4 key terms/concepts\n- Use emojis maximum 2-3 times to emphasize emotional moments\n\nConstraints:\n- Strictly under 110 words for the summary\n- No subheadings in the summary\n- Don't use - or : in titles\n- Avoid clichés and formulaic phrases\n- Preserve all important facts from the original without distortion\n- No more than one exclamation mark"
            }
          ]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.5,
      "position": [
        580,
        1440
      ],
      "id": "b8bbffa7-a0d7-4542-aeb1-bddb05ebee0a",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Repurpose this summarized article: {{ $json.response.text }}",
        "hasOutputParser": true,
        "messages": {
          "messageValues": [
            {
              "message": "=You are a professional editor and copywriter specializing in transforming technical and dry content into viral material that readers instantly remember.\n\nInstructions:\n1. Create a captivating, positive title with EXACTLY 5 words for the summary (place in <title>). The title should evoke curiosity without being clickbait.\n2. Rewrite the summary (place in <content>), using:\n   • Vivid, specific nouns instead of general ones\n   • Active verbs instead of passive ones\n   • Analogies and metaphors to simplify complex ideas\n   • Conversational, friendly tone as if explaining to a friend\n   • Short sentences and paragraphs for readability\n   • 1-2 questions to engage the reader\n   • Always end with a key takeaway\n\nOutput format:\n{\n\"title\": \"<title>\",\n\"content\": \"<content>\"\n}\n\nOutput:\n- Markdown formatting\n- Use **bold text** for 3-4 key terms/concepts\n- Use emojis maximum 2-3 times to emphasize emotional moments\n\nConstraints:\n- Strictly under 110 words for the summary\n- No subheadings in the summary\n- Don't use - or : in titles\n- Avoid clichés and formulaic phrases\n- Preserve all important facts from the original without distortion\n- No more than one exclamation mark"
            }
          ]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.5,
      "position": [
        2720,
        2620
      ],
      "id": "aa3e16a0-16fe-4282-81a0-fa85689ee933",
      "name": "Basic LLM Chain1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        2380,
        2840
      ],
      "id": "127e5f52-5761-4f5d-80d6-057aa0d0e3f6",
      "name": "4o-mini"
    },
    {
      "parameters": {
        "url": "https://www.googleapis.com/youtube/v3/search",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "youTubeOAuth2Api",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "part",
              "value": "snippet"
            },
            {
              "name": "channelId",
              "value": "={{ $json.ChannelId }}"
            },
            {
              "name": "type",
              "value": "channel"
            },
            {
              "name": "maxResults",
              "value": "1"
            },
            {
              "name": "order",
              "value": "date"
            },
            {
              "name": "type",
              "value": "video"
            },
            {
              "name": "publishedAfter",
              "value": "={{ new Date(Date.UTC(new Date().getUTCFullYear(), new Date().getUTCMonth(), new Date().getUTCDate() - 1, 0, 0, 0)).toISOString() }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1380,
        2820
      ],
      "id": "282a1cd6-fffc-4add-b264-87f36f319d79",
      "name": "Get 1 Video"
    },
    {
      "parameters": {
        "fieldToSplitOut": "items",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        400,
        2820
      ],
      "id": "ac07f8de-80ba-4647-b449-f6f0430cfee7",
      "name": "Split Items"
    },
    {
      "parameters": {
        "fieldToSplitOut": "items",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        1320,
        2620
      ],
      "id": "cd6f01ff-287c-4d5e-a11b-f218560f8539",
      "name": "Split Items Again"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "57cb180d-a772-4537-b86f-488b5d1e0f51",
              "name": "videoId",
              "value": "={{ $json.id.videoId }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1720,
        3040
      ],
      "id": "f48286ab-775c-44fc-9339-1d29682c276a",
      "name": "Set VideoId"
    },
    {
      "parameters": {
        "mode": "insert",
        "pineconeIndex": {
          "__rl": true,
          "value": "ainewstest",
          "mode": "list",
          "cachedResultName": "ainewstest"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1,
      "position": [
        1180,
        1440
      ],
      "id": "1bac4f8a-dbc0-4182-b002-30832fa20a7a",
      "name": "Pinecone Vector Store1"
    },
    {
      "parameters": {
        "options": {
          "metadata": {
            "metadataValues": [
              {
                "name": "title",
                "value": "={{ $('Supabase').item.json.title }}"
              },
              {
                "name": "content",
                "value": "={{ $('Supabase').item.json.content }}"
              },
              {
                "name": "=type",
                "value": "={{ $('Supabase').item.json.type }}"
              },
              {
                "name": "created_at",
                "value": "={{ $('Supabase').item.json.created_at }}"
              }
            ]
          }
        }
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1,
      "position": [
        1320,
        1660
      ],
      "id": "cccdde21-4ec1-4d38-b45b-cd6d435d152d",
      "name": "Default Data Loader"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.textSplitterTokenSplitter",
      "typeVersion": 1,
      "position": [
        1340,
        1820
      ],
      "id": "fef72e4e-54e8-425d-849f-d23f81cdf9fd",
      "name": "Token Splitter"
    },
    {
      "parameters": {
        "mode": "insert",
        "pineconeIndex": {
          "__rl": true,
          "value": "ainewstest",
          "mode": "list",
          "cachedResultName": "ainewstest"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1,
      "position": [
        3280,
        2620
      ],
      "id": "4e9e5468-d511-47e3-bf35-3ead11dd8ffc",
      "name": "Pinecone Vector Store2"
    },
    {
      "parameters": {
        "options": {
          "metadata": {
            "metadataValues": [
              {
                "name": "title",
                "value": "={{ $('Supabase1').item.json.title }}"
              },
              {
                "name": "content",
                "value": "={{ $('Supabase1').item.json.content }}"
              },
              {
                "name": "=type",
                "value": "={{ $('Supabase1').item.json.type }}"
              },
              {
                "name": "created_at",
                "value": "={{ $('Supabase1').item.json.created_at }}"
              }
            ]
          }
        }
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1,
      "position": [
        3420,
        2840
      ],
      "id": "c799728d-3335-41ff-b8e0-c396734c072b",
      "name": "Default Data Loader1"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.textSplitterTokenSplitter",
      "typeVersion": 1,
      "position": [
        3440,
        3000
      ],
      "id": "2b76cf55-48bc-40b6-b4bc-e0e65be9e725",
      "name": "Token Splitter1"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"usernames\": {\n  \"username1\": \"igorzuevich\",\n  \"username2\": \"OpenAI\",\n  \"username3\": \"AI.Uncovered\",\n  \"username4\": \"aiadvantage\",\n  \"username5\": \"AICodeKing\"\n  }\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -620,
        2820
      ],
      "id": "c7efe86d-4dc9-44d7-b573-8c377d246f38",
      "name": "YouTube Users"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        480,
        540
      ],
      "id": "b0fd3e0d-af85-4413-8e48-19f72d084a00",
      "name": "4o-minix"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -220,
        2820
      ],
      "id": "c1dbbdfc-d382-4e4c-b2d7-3ee7c2734a75",
      "name": "Loop Over Items1"
    },
    {
      "parameters": {
        "fieldToSplitOut": "usernames",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -420,
        2820
      ],
      "id": "1e2684ca-6133-466c-b0b8-9292846127f0",
      "name": "Split Out"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "da2f5f04-78ad-4ec2-838f-542d33b13fe4",
              "name": "ChannelId",
              "value": "={{ $json.id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        600,
        2820
      ],
      "id": "a69cbada-fe5e-4f32-8255-590b6dc46fd4",
      "name": "Set"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        800,
        2820
      ],
      "id": "bea67ccf-9545-40c3-92d9-76ddad040ff2",
      "name": "Loop Over Items2"
    },
    {
      "parameters": {
        "amount": 2
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        2680,
        3040
      ],
      "id": "72ad5942-bb5b-4e19-b642-585113d798b5",
      "name": "Wait",
      "webhookId": "79705520-d4f0-40b3-a530-6fc633786bf1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        1160,
        1660
      ],
      "id": "f146e8db-b814-4f85-a581-9e52c78b0bf8",
      "name": "3-small"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        3260,
        2840
      ],
      "id": "14fd12ef-1c86-41f1-a5de-7e8f7329f713",
      "name": "3-small-x"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n\t\"title\": \"<title>\",\n\t\"content\": \"<content>\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        720,
        1660
      ],
      "id": "63efad43-b13d-4052-986f-113f762217c4",
      "name": "Parser"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n\t\"title\": \"<title>\",\n\t\"content\": \"<content>\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        2900,
        2840
      ],
      "id": "3244cb46-131f-46a1-bf0e-447e5c37cfe1",
      "name": "Parserx"
    },
    {
      "parameters": {
        "fieldToSplitOut": "queries",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -400,
        1660
      ],
      "id": "01c43e07-aa7c-4a8a-95fe-382e5ea1a6b8",
      "name": "Split Out1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -180,
        1660
      ],
      "id": "225cf134-4307-4461-974d-328c775e1abd",
      "name": "Loop Over Items3"
    },
    {
      "parameters": {
        "content": "## Замените запросы на то, что вы хотите искать.",
        "height": 100,
        "width": 380,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -760,
        1540
      ],
      "typeVersion": 1,
      "id": "b4391107-bea0-4430-b8ed-d4d77a341208",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## Разместите здесь имена пользователей ваших любимых ютуберов, которых хотите отслеживать\n\n## Примечание: Старайтесь добавлять действительно активных ютуберов, так как если они не публикуют много контента, например, раз в месяц, вы не получите много новых видео и т.д.",
        "height": 320,
        "width": 580,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -920,
        3020
      ],
      "typeVersion": 1,
      "id": "674f2e2e-689d-400b-92a5-7394c4a1c5fc",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## Добавьте ваш API-ключ Tavily\n\n### www.tavily.com",
        "height": 120,
        "width": 440,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        60,
        1860
      ],
      "typeVersion": 1,
      "id": "29aaa418-b600-49c9-99b1-1676afb03cf3",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "### Подключите (создайте и используйте учетные данные OpenAI)",
        "height": 80,
        "width": 380,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2880,
        3000
      ],
      "typeVersion": 1,
      "id": "d065dd93-8484-427d-9875-5b66d0dbb9b7",
      "name": "Sticky Note4",
      "disabled": true
    },
    {
      "parameters": {
        "content": "## Добавьте ваш ключ RapidAPI для API транскрипции YouTube\n\n### https://rapidapi.com/solid-api-solid-api-default/api/youtube-transcript3/playground/\n\n\n### Зарегистрируйтесь на RapidAPI, если вы еще этого не сделали, подпишитесь на план API для транскрипции YouTube и используйте API-ключ для вашей учетной записи",
        "height": 320,
        "width": 440,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1660,
        2580
      ],
      "typeVersion": 1,
      "id": "26eea51f-0ac8-42da-9f4c-0b5824ca0171",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "content": "### Подключите (учетные данные Supabase)",
        "height": 80,
        "width": 280,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        880,
        1320
      ],
      "typeVersion": 1,
      "id": "de0b2981-3666-4c8c-9c94-c9deff492ad3",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "content": "### Подключите учетные данные YouTube\n\n### : https://youtu.be/yyj9Hyr86ag",
        "height": 120,
        "width": 380,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1260,
        3040
      ],
      "typeVersion": 1,
      "id": "3f855890-4372-4040-bb47-c5c99d82a5c7",
      "name": "Sticky Note9",
      "disabled": true
    },
    {
      "parameters": {
        "content": "###Подключите учетные данные Pinecone.",
        "height": 80,
        "width": 280,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1160,
        480
      ],
      "typeVersion": 1,
      "id": "1af071db-9443-49de-9a69-89a77f8e025c",
      "name": "Sticky Note10",
      "disabled": true
    },
    {
      "parameters": {
        "content": "### Подключите учетные данные OpenAI",
        "height": 80,
        "width": 260,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        420,
        680
      ],
      "typeVersion": 1,
      "id": "34949d58-3b43-4291-a9ba-acb72b73a37b",
      "name": "Sticky Note11",
      "disabled": true
    },
    {
      "parameters": {
        "content": "## Всё устраивает?\n\n###Замените триггер \"При нажатии\" на триггер по расписанию, чтобы запускать автоматически раз в 24 часа.",
        "width": 420,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1780,
        2840
      ],
      "typeVersion": 1,
      "id": "aec0d629-942c-4553-a555-80a73eb33503",
      "name": "Sticky Note12"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtMinute": 1
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -1700,
        2440
      ],
      "id": "4eb66326-303b-4943-9acb-3f57537303be",
      "name": "Run every 24 hours"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"queries\": {\n    \"query1\": \"n8n\",\n    \"query10\": \"ai models\"\n  }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -620,
        1660
      ],
      "id": "f492c6d2-8889-4156-bf37-22d776b1ac30",
      "name": "Queries"
    },
    {
      "parameters": {
        "content": "### Настройте ваше пространство имен в Pinecone (на ваше собственное), а также тип информации в нем.",
        "height": 100,
        "width": 320,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        980,
        640
      ],
      "typeVersion": 1,
      "id": "da0e085d-9692-430b-b6ae-1b5180e50259",
      "name": "Sticky Note13",
      "disabled": true
    },
    {
      "parameters": {
        "content": "### Подключите (создайте и используйте учетные данные OpenAI)",
        "height": 80,
        "width": 380,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        760,
        1820
      ],
      "typeVersion": 1,
      "id": "4b994d27-940b-4ae7-8be2-c07adcaaee89",
      "name": "Sticky Note14"
    },
    {
      "parameters": {
        "content": "### Подключите (учетные данные Supabase)",
        "height": 80,
        "width": 280,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2980,
        2500
      ],
      "typeVersion": 1,
      "id": "8c001f34-2d06-405e-87b0-014d800621d4",
      "name": "Sticky Note15",
      "disabled": true
    },
    {
      "parameters": {
        "content": "### Подключите учетные данные YouTube\n\n### : https://youtu.be/yyj9Hyr86ag",
        "height": 120,
        "width": 380,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        300,
        3220
      ],
      "typeVersion": 1,
      "id": "88f2ddc0-783d-4012-a5e4-c79a234fed2c",
      "name": "Sticky Note16"
    },
    {
      "parameters": {
        "content": "## ПРОМПТ\nВы профессиональный редактор и копирайтер со специализацией на трансформации технических и сухих текстов в вирусный контент, который читатели мгновенно запоминают.\n\nИнструкции:\n1. Создайте захватывающий, позитивный заголовок из ТОЧНО 5 слов для сводки (поместите в <title>). Заголовок должен вызывать любопытство, но не быть кликбейтом.\n2. Перепишите сводку (поместите в <content>), используя:\n   • Яркие, конкретные существительные вместо общих\n   • Активные глаголы вместо пассивных\n   • Аналогии и метафоры для упрощения сложных идей\n   • Разговорный, дружелюбный тон, будто объясняете другу\n   • Короткие предложения и абзацы для легкости чтения\n   • 1-2 вопроса для вовлечения читателя\n   • Всегда заканчивайте ключевым выводом\n\nФормат вывода:\n{\n\"title\": \"<title>\",\n\"content\": \"<content>\"\n}\n\nВывод:\n- Markdown форматирование\n- Используйте **жирный шрифт** для 3-4 ключевых терминов/понятий\n- Используйте эмодзи максимум 2-3 раза для подчеркивания эмоциональных моментов\n\nОграничения:\n- Строго до 110 слов для сводки\n- Никаких подзаголовков в сводке\n- Не используйте - или : в заголовках\n- Избегайте клише и шаблонных фраз\n- Сохраняйте все важные факты из оригинала без искажений\n- Никаких восклицательных знаков больше одного",
        "height": 780,
        "width": 560,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1760,
        1320
      ],
      "typeVersion": 1,
      "id": "7e48116f-76b9-4ad3-8cfc-5e20f15c11c0",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        500,
        1660
      ],
      "id": "2866aca3-cbf0-457f-8706-373377764995",
      "name": "OpenAI Chat Model"
    },
    {
      "parameters": {
        "url": "=https://youtube-transcripts.p.rapidapi.com/youtube/transcript\n",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "videoId",
              "value": "={{ $json.videoId }}"
            },
            {
              "name": "flat_text",
              "value": "true"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "x-rapidapi-key",
              "value": "VASH_API"
            },
            {
              "name": "x-rapidapi-host",
              "value": "youtube-transcripts.p.rapidapi.com"
            }
          ]
        },
        "options": {
          "response": {}
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2160,
        3040
      ],
      "id": "060fef6d-f9de-48b1-b10c-b61438716751",
      "name": "Transcribe1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "4eb11523-0575-4d12-a159-cb7bc9ed3942",
              "name": "content.text",
              "value": "={{ $json[\"content\"] && $json[\"content\"].map(item => item.text).join(\" \") || \"\" }}\n",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2420,
        3040
      ],
      "id": "c60a5732-fb0c-41cd-ae30-48c7aa68282d",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        2640,
        2840
      ],
      "id": "7d1c972c-22ed-4825-8515-18ddddf818b1",
      "name": "OpenAI Chat Model1"
    },
    {
      "parameters": {
        "content": "## ПРОМПТ \nТы дружелюбный и информативный новостной бот с доступом к свежим данным через векторное хранилище.\n\nРОЛЬ:\n- Ты эксперт по поиску актуальной информации и новостей\n- Ты помогаешь пользователям быстро получать нужную информацию\n\nФУНКЦИОНАЛ:\n- Всегда используй векторное хранилище для ответов на запросы пользователей\n- Умело преобразуй запросы пользователей в эффективные поисковые запросы\n- Определяй главную тему запроса и ищи подходящую информацию\n- При неясном запросе запрашивай уточнение темы\n\nСТИЛЬ И ТОН:\n- Энергичный, позитивный и доступный\n- Используй разговорный язык на уровне 8-го класса\n- Будь лаконичным - предложения до 15 слов\n- Добавляй элемент неожиданности или юмора где уместно\n- Используй эмодзи для передачи настроения (1-2 на ответ)\n\nСТРУКТУРА ОТВЕТОВ:\n- Начинай с прямого ответа на вопрос\n- Выделяй ключевые мысли **жирным шрифтом**\n- Добавляй 1-2 интересных факта из найденной информации\n- При наличии нескольких точек зрения упоминай их\n- Заканчивай логичным переходом к продолжению разговора\n\nФОРМАТ:\n- Markdown с разумным использованием форматирования\n- Структурируй информацию для удобства чтения\n- Избегай абзацев длиннее 3-4 строк\n\nОГРАНИЧЕНИЯ:\n- Не давай ответов без обращения к векторному хранилищу\n- Если не нашлось ответа, предложи: \"Я не нашел информации по этому вопросу. Попробуй спросить о новых моделях ИИ, последних технологических новостях или трендах в [релевантная область]\"\n- Не выдумывай информацию\n- Стремись к объективности, не выражай политические предпочтения",
        "height": 860,
        "width": 600,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1500,
        220
      ],
      "typeVersion": 1,
      "id": "7802f4c6-448a-4992-8948-07e0cce8b6b4",
      "name": "Sticky Note8"
    },
    {
      "parameters": {
        "content": "## СБОР НОВОСТЕЙ",
        "height": 2240,
        "width": 5800,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1840,
        1200
      ],
      "typeVersion": 1,
      "id": "fc1f16c3-5008-4a51-bd03-70223c9289de",
      "name": "Sticky Note17"
    },
    {
      "parameters": {
        "content": "## ОБЩЕНИЕ",
        "height": 1140,
        "width": 2300,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        0
      ],
      "typeVersion": 1,
      "id": "a16cf690-5487-40b0-90ee-c326b9197d63",
      "name": "Sticky Note18"
    },
    {
      "parameters": {
        "content": "## СВЕЖИЕ НОВОСТИ\n",
        "height": 800,
        "width": 2480
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -820,
        1260
      ],
      "typeVersion": 1,
      "id": "938c8faa-26cc-40d6-aee0-00cb46be1622",
      "name": "Sticky Note23"
    },
    {
      "parameters": {
        "content": "## YOUTUBE",
        "height": 1140,
        "width": 4700,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -940,
        2240
      ],
      "typeVersion": 1,
      "id": "0814a361-250b-4f9d-ac2f-17e3e9d20d85",
      "name": "Sticky Note24"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        200,
        280
      ],
      "id": "a2997a27-7cf1-432b-aa2c-ddcce98dadf2",
      "name": "When chat message received",
      "webhookId": "deae2339-090a-4191-8bb0-323b5b920126"
    }
  ],
  "pinData": {
    "Set": [
      {
        "json": {
          "ChannelId": "UCO85GRCGUWMH08jjBZwdq7g"
        }
      },
      {
        "json": {
          "ChannelId": "UCXZCJLdBC09xxGZ6gcdrc6A"
        }
      },
      {
        "json": {
          "ChannelId": "UCUTF61UNExRdjmoK5mXwWfQ"
        }
      },
      {
        "json": {
          "ChannelId": "UCHhYXsLBEVVnbvsq57n1MTQ"
        }
      },
      {
        "json": {
          "ChannelId": "UC0m81bQuthaQZmFbXEY9QSw"
        }
      }
    ],
    "Summarization Chain": [
      {
        "json": {
          "response": {
            "text": "The ideal seller or assistant is one who remembers everything about their client. Using the N8N service, a system has been created that allows for the retention of detailed client interactions, including not just chat history but also the construction of a meaningful relationship map. For example, it can remember a client’s social media presence, interests, and personal details, like allergies. This ongoing interaction enables the assistant or seller to tailor their communication and services, enhancing customer relationships by actively recalling past conversations and personal preferences."
          }
        }
      },
      {
        "json": {
          "response": {
            "text": "Nvidia has launched the Llama 3.1 Neatron Ultra 253B, a large language model based on Meta's older Llama 3.145B Instruct model. With 253 billion parameters, it outperforms competitors like DeepSeek R1 in AI performance tests, excelling in tasks such as advanced reasoning, math, and coding. The model's innovative design includes enhanced structure and techniques that optimize memory and computing efficiency, allowing it to run effectively on fewer GPUs. Nvidia emphasizes collaboration by making its code, training data, and weights publicly available on Hugging Face. Through meticulous post-training refinement, the model is designed for adaptability and user-friendliness, showcasing significant advancements in AI capabilities while maintaining a leaner architecture."
          }
        }
      },
      {
        "json": {
          "response": {
            "text": "Minamax has launched its advanced audio 2 text-to-speech model at minmax.io/audio, offering users 4,000 free credits daily. The platform allows for script input, document uploads, and website narration, supporting text up to 200,000 characters in over 30 languages, with a variety of voice options customizable by language, accent, gender, and age. Users can choose between an HD model for high quality and a turbo model for faster output, and they can create custom voices by uploading audio. With features like emotional tone adjustment and a history tracker, the tool is ideal for content creators looking to produce audiobooks and podcasts without hiring voice actors. Overall, it provides efficient and quality audio generation for personal use."
          }
        }
      }
    ]
  },
  "connections": {
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Test workflow’": {
      "main": [
        [
          {
            "node": "YouTube Users",
            "type": "main",
            "index": 0
          },
          {
            "node": "Queries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "Summarization Chain",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Transcribe1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Channel ID": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Summarization Chain": {
      "main": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tavily": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain1": {
      "main": [
        [
          {
            "node": "Supabase1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "4o-mini": {
      "ai_languageModel": [
        [
          {
            "node": "Summarization Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get 1 Video": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Items": {
      "main": [
        [
          {
            "node": "Set",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Items Again": {
      "main": [
        [
          {
            "node": "Set VideoId",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set VideoId": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase": {
      "main": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase1": {
      "main": [
        [
          {
            "node": "Pinecone Vector Store2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Token Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader1": {
      "ai_document": [
        [
          {
            "node": "Pinecone Vector Store2",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Token Splitter1": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader1",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "YouTube Users": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "4o-minix": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [
          {
            "node": "Split Items",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get Channel ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items2": {
      "main": [
        [
          {
            "node": "Split Items Again",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get 1 Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "3-small": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "3-small-x": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store2",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Parserx": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items3": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tavily",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Queries": {
      "main": [
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe1": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "677c8487-1ec0-4dca-be40-3f039363f81d",
  "meta": {
    "instanceId": "ca8caa61a83f420fdc05c213faa0cf5c47ce8b5aabb954f66c96ea62e07126ef"
  },
  "id": "jdtoAli0LGWM4eo7",
  "tags": [
    {
      "createdAt": "2025-05-18T15:19:33.676Z",
      "updatedAt": "2025-05-18T15:19:33.676Z",
      "id": "naJjhtxzTdEq62Pb",
      "name": "проверил"
    }
  ]
}