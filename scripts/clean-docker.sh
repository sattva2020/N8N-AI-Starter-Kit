#!/bin/bash

echo "=============================="
echo "üßπ –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–ª–Ω—É—é –æ—á–∏—Å—Ç–∫—É Docker..."
echo "=============================="

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
echo "üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã..."
docker stop $(docker ps -aq) > /dev/null 2>&1

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
echo "üóëÔ∏è –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã..."
docker rm -f $(docker ps -aq) > /dev/null 2>&1

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–µ—Ç–∏
echo "üåê –£–¥–∞–ª—è–µ–º –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ç–∏..."
docker network prune -f > /dev/null 2>&1

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –æ–±—Ä–∞–∑—ã
echo "üñºÔ∏è –£–¥–∞–ª—è–µ–º –≤—Å–µ –æ–±—Ä–∞–∑—ã..."
docker rmi -f $(docker images -aq) > /dev/null 2>&1

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–æ–º–∞
echo "üíæ –£–¥–∞–ª—è–µ–º –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–æ–º–∞..."
docker volume prune -f > /dev/null 2>&1

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö build-–∫—ç—à–µ–π
echo "üßΩ –û—á–∏—â–∞–µ–º –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫—ç—à —Å–±–æ—Ä–æ–∫..."
docker builder prune -af > /dev/null 2>&1

echo "=============================="
echo "‚úÖ –û—á–∏—Å—Ç–∫–∞ Docker –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo "=============================="
