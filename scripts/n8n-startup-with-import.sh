#!/bin/bash

# N8N Startup with Auto-Import
# –ó–∞–ø—É—Å–∫–∞–µ—Ç N8N –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç workflows

set -e

echo "üöÄ –ó–∞–ø—É—Å–∫ N8N —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏–º–ø–æ—Ä—Ç–æ–º workflows..."

# –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –≤ —Ñ–æ–Ω–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–º–ø–æ—Ä—Ç–∞
start_import_process() {
    sleep 30  # –ñ–¥–µ–º –∑–∞–ø—É—Å–∫–∞ N8N
    
    echo "üì• –ù–∞—á–∏–Ω–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç workflows..."
    
    if [ -x "/scripts/auto-import-workflows-api.sh" ]; then
        /scripts/auto-import-workflows-api.sh
    else
        echo "‚ö†Ô∏è  –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–∏–º–ø–æ—Ä—Ç"
    fi
} &

# –ó–∞–ø—É—Å–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ N8N –ø—Ä–æ—Ü–µ—Å—Å–∞
echo "üîÑ –ó–∞–ø—É—Å–∫ N8N..."
exec n8n start
